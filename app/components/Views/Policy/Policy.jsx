import React from 'react';import { Link } from 'react-router-dom';import PropTypes from 'prop-types';// import {//   Button, Checkbox, Form, Select, SelectItem, SelectItemGroup, NumberInput,//   DatePicker, DatePickerInput, TextInput, TextArea, StructuredListCell,//   StructuredListBody, StructuredListRow, Modal,// } from 'carbon-components-react';import Header from '../../Header/Header';import InfoAds from '../../InfoAds/InfoAds';export default class Policy extends React.Component {  constructor() {    super();    this.state = {      customer: { },      policy: {        vehicle: {},      },    };  }  componentDidMount() {    const { match: { params } } = this.props;    /* eslint prefer-destructuring: ["error", {VariableDeclarator: {object: false}}] */    const policyId = params.policyId;    console.log('componentDidMount ', policyId);    fetch(`api/policy/${policyId}`)      .then(res => res.json())      .then(        (result) => {          console.log('fetched api policy', result);          this.setState({            policy: result,          });          return result.customer_id;        },        (error) => {          console.log('error', error);        },      )      .then(        (customerId) => {          fetch(`api/customer/${customerId}`)            .then(res => res.json())            .then(              (result) => {                console.log('fetched api customerId', result);                this.setState({                  customer: result,                });              },              (error) => {                console.log('error', error);              },            );        },      );  }  render() {    const title = (      <h2 className="title"> Welcome back, {this.state.customer.name}!</h2>    );    const headerInfo = (      <div>Here are your active policies. <div />        Need another one or have questions on a policy? <Link to="/"> Click here! </Link>      </div>    );    return (      <div>        <div className="container intro fixed">          <Header title={title} info={headerInfo} nav />        </div>        <div className="policy-info">          <div id="tab-panel-1" className="tab-content tab-1" role="tabpanel">            <span className="triangle" style={{ left: '6rem' }} />            <div className="policy bx--row">              <div className="bx--col-xs-12 bx--col-sm-12 bx--col-md-4" style={{ padding: '1rem 1rem 0 3rem' }}>                <section className="bx--structured-list">                  <div className="bx--structured-list-tbody">                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Policy Number</div>                      <div className="bx--structured-list-td" style={{ paddingTop: 0 }}>                        {this.state.policy.id}                      </div>                    </div>                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Coverage</div>                      <div className="bx--structured-list-td"> {this.state.policy.coverage} </div>                    </div>                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Policy Agent</div>                      <div className="bx--structured-list-td"> {this.state.policy.agent} </div>                    </div>                    <div className="bx--structured-list-row emptyRow" />                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Vehicle Make</div>                      <div className="bx--structured-list-td"> {this.state.policy.vehicle.brand} </div>                    </div>                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Vehicle Model</div>                      <div className="bx--structured-list-td"> {this.state.policy.vehicle.model} </div>                    </div>                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Year of Make</div>                      <div className="bx--structured-list-td"> {this.state.policy.vehicle.year} </div>                    </div>                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Licence Number</div>                      <div className="bx--structured-list-td"> {this.state.policy.vehicle.licence_no} </div>                    </div>                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">State of Registration</div>                      <div className="bx--structured-list-td"> {this.state.policy.vehicle.state_of_registration} </div>                    </div>                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Category</div>                      <div className="bx--structured-list-td"> {this.state.policy.vehicle.category} </div>                    </div>                  </div>                </section>              </div>              <div className="bx--col-xs-12 bx--col-sm-12 bx--col-md-4" style={{ padding: '1rem 1rem 0 3rem' }}>                <section className="bx--structured-list">                  <div className="bx--structured-list-tbody">                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Policy Status</div>                      <div className="bx--structured-list-td">{this.state.policy.status}</div>                    </div>                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Starts</div>                      <div className="bx--structured-list-td"> {this.state.policy.start_date} </div>                    </div>                    <div className="bx--structured-list-row">                      <div className="bx--structured-list-td bx--structured-list-content--nowrap">Ends</div>                      <div className="bx--structured-list-td"> {this.state.policy.end_date} </div>                    </div>                  </div>                </section>              </div>              <div className="box bx--col-xs-12 bx--col-sm-12 bx--col-md-4" style={{ border: 'none', paddingTop: '1rem', borderLeft: '1px solid #00A3FE' }}>                <h2> Need additional services? </h2>                <h3> Gotcha covered! Review all of our                    services and coverage plans.
                </h3>                <ul>                  <li>+ Finances </li>                  <li>+ Banking </li>                  <li>+ Home & Property  </li>                  <li>+ Life </li>                  <li>+ Renters </li>                  <li>+ Pet </li>                  <li>+ Health </li>                  <li>+ Natural Disaster </li>                  <li>+ And much more! </li>                </ul>                <div>                  <button className="bx--btn bx--btn--secondary" type="button">Review Services</button>                </div>              </div>            </div>          </div>          <InfoAds servicesAds={false} />        </div>      </div>    );  }}Policy.propTypes = {  match: PropTypes.shape({    params: PropTypes.shape({      policyId: PropTypes.string.isRequired,    }),  }),};
